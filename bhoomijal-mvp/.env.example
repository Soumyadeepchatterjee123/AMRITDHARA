# Bhoomijal - Hydro-View MVP Environment Configuration
# Copy this file to .env and adjust values as needed

#-----------------------------------------------
# ENVIRONMENT SETTINGS
#-----------------------------------------------
# Environment type: development, staging, production
ENVIRONMENT=development
# Enable debug mode (set to False in production)
DEBUG=True
# Application version
APP_VERSION=1.0.0
# Node environment for frontend
NODE_ENV=development
# Domain name (used for CORS, cookies, etc.)
DOMAIN=localhost

#-----------------------------------------------
# DEPLOYMENT PROFILES
#-----------------------------------------------
# Build targets for multi-stage Docker builds
FRONTEND_TARGET=development
BACKEND_TARGET=development
# Container tag for images
TAG=latest
# Container ports
FRONTEND_PORT=3000
FRONTEND_CONTAINER_PORT=3000
BACKEND_PORT=8000

#-----------------------------------------------
# DATABASE CONFIGURATION
#-----------------------------------------------
# PostgreSQL settings
POSTGRES_USER=bhoomijal
POSTGRES_PASSWORD=secure_password_change_me
POSTGRES_DB=bhoomijal
POSTGRES_PORT=5432
# Database connection string (used by backend)
DATABASE_URL=postgresql://bhoomijal:secure_password_change_me@postgres:5432/bhoomijal

#-----------------------------------------------
# REDIS CONFIGURATION
#-----------------------------------------------
REDIS_PASSWORD=secure_redis_password
REDIS_PORT=6379
REDIS_URL=redis://:secure_redis_password@redis:6379/0
# Celery configuration
CELERY_BROKER_URL=redis://:secure_redis_password@redis:6379/1
CELERY_RESULT_BACKEND=redis://:secure_redis_password@redis:6379/2

#-----------------------------------------------
# API & FRONTEND URLS
#-----------------------------------------------
# Base URL for API (used by frontend)
API_URL=http://localhost:8000
# CORS allowed origins (comma-separated)
CORS_ORIGINS=http://localhost:3000,https://bhoomijal.gov.in
# Allowed hosts for backend (space-separated)
ALLOWED_HOSTS=localhost 127.0.0.1

#-----------------------------------------------
# AUTHENTICATION & SECURITY
#-----------------------------------------------
# JWT secret key (change this to a secure random string)
SECRET_KEY=insecure_dev_key_change_in_production
# JWT algorithm
ALGORITHM=HS256
# JWT token expiry in minutes
ACCESS_TOKEN_EXPIRE_MINUTES=30
# CSRF protection settings
CSRF_TRUSTED_ORIGINS=http://localhost:3000,https://bhoomijal.gov.in
# Rate limiting (requests per minute)
RATE_LIMIT=100
# Security headers
SECURE_HSTS_SECONDS=31536000
SECURE_HSTS_INCLUDE_SUBDOMAINS=True
SECURE_FRAME_DENY=True
SECURE_CONTENT_TYPE_NOSNIFF=True
SECURE_BROWSER_XSS_FILTER=True
SECURE_SSL_REDIRECT=False

#-----------------------------------------------
# MONITORING & LOGGING
#-----------------------------------------------
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
LOG_LEVEL=INFO
# Log file path
LOG_FILE=logs/bhoomijal.log
# Prometheus settings
PROMETHEUS_PORT=9090
PROMETHEUS_METRICS_USER=metrics
PROMETHEUS_METRICS_PASSWORD=metrics_password
PROMETHEUS_MULTIPROC_DIR=/tmp
# Grafana settings
GRAFANA_PORT=3001
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
# AlertManager settings
ALERTMANAGER_PORT=9093
# Loki settings
LOKI_PORT=3100
# Sentry DSN for error tracking (optional)
SENTRY_DSN=

#-----------------------------------------------
# EXTERNAL SERVICES
#-----------------------------------------------
# Mapbox token for enhanced maps (optional)
MAPBOX_TOKEN=
# Weather API for rainfall data (optional)
WEATHER_API_KEY=
# Email settings for notifications
SMTP_HOST=smtp.example.com
SMTP_PORT=587
SMTP_USER=notifications@bhoomijal.gov.in
SMTP_PASSWORD=secure_smtp_password
EMAIL_FROM=notifications@bhoomijal.gov.in
# SMS gateway for alerts (optional)
SMS_API_KEY=
SMS_SENDER_ID=BHOOMI

#-----------------------------------------------
# GOVERNMENT COMPLIANCE
#-----------------------------------------------
# CERT-In compliance: log retention in days
LOG_RETENTION_DAYS=90
# GIGW 3.0 compliance settings
ACCESSIBILITY_COMPLIANCE_LEVEL=AA
# Default language (en, hi)
DEFAULT_LANGUAGE=en
# Enable bilingual interface
ENABLE_BILINGUAL=True
# Data classification as per NDSAP
DATA_CLASSIFICATION=OPEN
# DPDP 2023 compliance
STORE_PII=False
# MeitY empanelled cloud region
CLOUD_REGION=in-central-1

#-----------------------------------------------
# DEVELOPMENT TOOLS
#-----------------------------------------------
# Adminer (DB management)
ADMINER_PORT=8080
# Redis Commander
REDIS_COMMANDER_PORT=8081
# Enable hot reload for frontend
CHOKIDAR_USEPOLLING=true

#-----------------------------------------------
# BACKUP CONFIGURATION
#-----------------------------------------------
# Backup schedule (cron format)
BACKUP_SCHEDULE=0 2 * * *
# Backup retention (days)
BACKUP_RETENTION_DAYS=30
# S3 backup configuration (optional)
S3_BACKUP_BUCKET=bhoomijal-backups
S3_ACCESS_KEY=
S3_SECRET_KEY=
S3_ENDPOINT=

#-----------------------------------------------
# PERFORMANCE SETTINGS
#-----------------------------------------------
# Worker processes for Gunicorn
GUNICORN_WORKERS=4
# Worker threads per process
GUNICORN_THREADS=2
# Connection timeout
GUNICORN_TIMEOUT=30
# Max requests per worker
GUNICORN_MAX_REQUESTS=1000
# Max requests jitter
GUNICORN_MAX_REQUESTS_JITTER=50
